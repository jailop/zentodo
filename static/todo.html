<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Zen ToDo</title>
<!--
        <link href='https://fonts.googleapis.com/css?family=Raleway:700,400,300,700italic,400italic,300italic' rel='stylesheet' type='text/css'>
        -->
<link href="data:text/css,body%20%7B%0A%20%20%20%20background%3A%20white%3B%0A%20%20%20%20padding%3A%205px%3B%0A%20%20%20%20font-family%3A%20Raleway%3B%0A%7D%0A%0Aul%20%7B%0A%20%20%20%20list-style-type%3A%20none%3B%0A%7D%0A%0Ali%20%7B%0A%20%20%20%20line-height%3A%20150%25%3B%0A%7D%0A%0Abutton%20%7B%0A%20%20%20%20font-size%3A%2085%25%3B%0A%20%20%20%20min-width%3A%2050px%3B%0A%0A%7D%0A%0Ainput%5Btype%3D%27checkbox%27%5D%20%7B%0A%20%20%20%20transform%3A%20scale%281.5%29%3B%0A%20%20%20%20margin-right%3A%2015px%3B%0A%7D%0A%0Atextarea%20%7B%0A%20%20%20%20height%3A%20320px%3B%0A%20%20%20%20width%3A%20100%25%3A%0A%7D%0A%0A.container%20%7B%0A%20%20%20%20/%2A%0A%20%20%20%20margin%3A%200%20auto%3B%0A%20%20%20%20%2A/%0A%20%20%20%20max-width%3A%20960px%3B%0A%7D%0A%0A.row%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%7D%0A%0Aspan%20%7B%0A%20%20%20%20border-bottom%3A%201px%20solid%20%23EFEFEF%3B%0A%7D%0A%0Aspan%3Afocus%20%7B%0A%20%20%20%20background%3A%20%23efefef%3B%0A%7D%0A%0A%23control%20%7B%0A%20%20%20%20top%3A%200%3B%0A%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20border-bottom%3A%201px%20solid%20%23CCC%3B%0A%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20background%3A%20white%3B%0A%20%20%20%20z-index%3A%20999%3B%0A%7D%0A%0A%23control%20img%20%7B%0A%20%20%20%20width%3A%2024px%3B%0A%20%20%20%20padding-right%3A%203px%3B%0A%7D%0A%0A%23main%2C%20%23setup%20%7B%0A%20%20%20%20margin-top%3A%2036px%3B%0A%7D%0A%0A" rel="stylesheet"/><!--URL:style.css-->
<script src="data:application/javascript,var%20pos%20%3D%20null%3B%0Avar%20pnt%20%3D%20null%3B%0Avar%20chg%20%3D%20false%3B%0A%0Afunction%20%24%28el%29%20%7B%0A%20%20%20%20return%20document.getElementById%28el%29%3B%0A%7D%0A%0Afunction%20span%28el%29%20%7B%0A%20%20%20%20return%20el.getElementsByTagName%28%27span%27%29%5B0%5D%3B%0A%7D%0A%0Afunction%20task_done%28%29%20%7B%0A%20%20%20%20var%20check%20%3D%20pos.childNodes%5B0%5D%3B%0A%20%20%20%20check.click%28%29%3B%0A%20%20%20%20chg%20%3D%20true%3B%20%20%20%0A%7D%0A%0Afunction%20fill_li%28state%3D0%2C%20desc%3D%27%27%29%20%7B%0A%20%20%20%20var%20check%20%3D%20pos.appendChild%28document.createElement%28%27input%27%29%29%3B%0A%20%20%20%20check.setAttribute%28%27type%27%2C%20%27checkbox%27%29%3B%0A%20%20%20%20check.onclick%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20var%20desc%20%3D%20this.nextSibling%3B%0A%20%20%20%20%20%20%20%20if%20%28this.checked%29%0A%20%20%20%20%20%20%20%20%20%20%20%20desc.style.textDecorationLine%20%3D%20%27line-through%27%3B%0A%20%20%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20%20%20%20%20desc.style.textDecorationLine%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20chg%20%3D%20true%3B%20%20%20%0A%20%20%20%20%7D%0A%20%20%20%20var%20input%20%3D%20pos.appendChild%28document.createElement%28%27span%27%29%29%3B%0A%20%20%20%20input.setAttribute%28%27contentEditable%27%2C%20true%29%3B%0A%20%20%20%20input.innerHTML%20%3D%20desc%3B%0A%20%20%20%20input.focus%28%29%3B%0A%20%20%20%20input.onfocus%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20%20%20pos%20%3D%20this.parentNode%3B%0A%20%20%20%20%7D%0A%20%20%20%20input.oninput%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20%20%20chg%20%3D%20true%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28state%20%3D%3D%201%29%20%7B%0A%20%20%20%20%20%20%20%20check.checked%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20input.style.textDecorationLine%20%3D%20%27line-through%27%3B%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20task_insert%28state%3D0%2C%20desc%3D%27%27%29%20%7B%0A%20%20%20%20var%20li%20%3D%20document.createElement%28%27li%27%29%3B%0A%20%20%20%20if%20%28pos%20%21%3D%20null%29%0A%20%20%20%20%20%20%20%20pos%20%3D%20pos.parentNode.insertBefore%28li%2C%20pos.nextSibling%29%3B%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20var%20ul%20%3D%20%24%28%27todo_list%27%29%3B%0A%20%20%20%20%20%20%20%20pos%20%3D%20ul.appendChild%28li%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20fill_li%28state%2C%20desc%29%3B%0A%20%20%20%20chg%20%3D%20true%3B%20%20%20%0A%7D%0A%0Afunction%20task_children%28state%3D0%2C%20desc%3D%27%27%29%20%7B%0A%20%20%20%20if%20%28pos%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20var%20ul%20%3D%20document.createElement%28%27ul%27%29%3B%0A%20%20%20%20%20%20%20%20pos.appendChild%28ul%29%3B%0A%20%20%20%20%20%20%20%20var%20li%20%3D%20document.createElement%28%27li%27%29%3B%0A%20%20%20%20%20%20%20%20pos%20%3D%20ul.appendChild%28li%29%3B%0A%20%20%20%20%20%20%20%20fill_li%28state%2C%20desc%29%3B%0A%20%20%20%20%20%20%20%20chg%20%3D%20true%3B%20%20%20%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20todo_append%28pnt%29%20%7B%0A%20%20%20%20if%20%28%21pnt%29%0A%20%20%20%20%20%20%20%20return%20%5B%5D%3B%0A%20%20%20%20var%20children%20%3D%20pnt.childNodes%3B%0A%20%20%20%20if%20%28%21children%29%0A%20%20%20%20%20%20%20%20return%20%5B%5D%3B%0A%20%20%20%20var%20tasks%20%3D%20%5B%5D%3B%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20children.length%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20var%20task%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20var%20li%20%3D%20children%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20var%20inputs%20%3D%20li.getElementsByTagName%28%27input%27%29%3B%0A%20%20%20%20%20%20%20%20if%20%28inputs%5B0%5D.checked%29%0A%20%20%20%20%20%20%20%20%20%20%20%20task.state%20%3D%201%3B%0A%20%20%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20%20%20%20%20task.state%20%3D%200%3B%0A%20%20%20%20%20%20%20%20task.desc%20%3D%20li.getElementsByTagName%28%27span%27%29%5B0%5D.innerHTML%3B%0A%20%20%20%20%20%20%20%20var%20ul%20%3D%20li.getElementsByTagName%28%27ul%27%29%3B%0A%20%20%20%20%20%20%20%20task.collapsed%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20if%20%28ul%20%26%26%20ul%5B0%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20task.children%20%3D%20todo_append%28ul%5B0%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28ul%5B0%5D.style.display%20%3D%3D%20%27none%27%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20task.collapsed%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20%20%20%20%20task.children%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20tasks.push%28task%29%3B%20%0A%20%20%20%20%7D%0A%20%20%20%20return%20tasks%3B%0A%7D%0A%0Afunction%20task_save%28%29%20%7B%0A%20%20%20%20if%20%28%21chg%29%20return%3B%0A%20%20%20%20var%20pnt%20%3D%20%24%28%27todo_list%27%29%3B%0A%20%20%20%20if%20%28pnt%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20var%20todo%20%3D%20todo_append%28pnt%29%3B%20%0A%20%20%20%20%20%20%20%20localStorage.setItem%28%27todo%27%2C%20JSON.stringify%28todo%29%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20var%20key%20%3D%20%24%28%27key%27%29.value%0A%20%20%20%20if%20%28key%29%20%7B%0A%20%20%20%20%20%20%20%20var%20xhr%20%3D%20new%20XMLHttpRequest%28%29%3B%0A%20%20%20%20%20%20%20%20xhr.open%28%22post%22%2C%20%24%28%27server%27%29.value%20%2B%20%22/keys/%22%20%2B%20key%2C%20true%29%3B%0A%20%20%20%20%20%20%20%20xhr.setRequestHeader%28%27Content-Type%27%2C%20%27application/json%3B%20charset%3DUTF-8%27%29%3B%0A%20%20%20%20%20%20%20%20xhr.send%28JSON.stringify%28todo%29%29%0A%20%20%20%20%7D%0A%20%20%20%20chg%20%3D%20false%3B%0A%7D%0A%0Afunction%20key_get%28%29%20%20%7B%0A%20%20%20%20var%20xhr%20%3D%20new%20XMLHttpRequest%28%29%3B%0A%20%20%20%20xhr.onreadystatechange%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28xhr.readyState%20%3D%3D%20XMLHttpRequest.DONE%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28xhr.status%20%3D%3D%20200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%28%27key%27%29.value%20%3D%20xhr.responseText%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localStorage.setItem%28%27key%27%2C%20xhr.responseText%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20xhr.open%28%27get%27%2C%20%24%28%27server%27%29.value%20%2B%20%22/keys/new%22%2C%20true%29%3B%20%0A%20%20%20%20xhr.send%28%29%3B%0A%7D%0A%0Afunction%20key_set%28%29%20%7B%0A%20%20%20%20var%20key%20%3D%20%24%28%27key%27%29.value%3B%0A%20%20%20%20if%20%28key%29%20%7B%0A%20%20%20%20%20%20%20%20localStorage.setItem%28%27key%27%2C%20key%29%3B%0A%20%20%20%20%20%20%20%20task_load%28%29%3B%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20task_copy%28%29%20%7B%0A%20%20%20%20var%20pnt%20%3D%20%24%28%27todo_list%27%29%3B%0A%20%20%20%20if%20%28pnt%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20var%20todo%20%3D%20todo_append%28pnt%29%3B%20%0A%20%20%20%20%20%20%20%20todo_str%20%3D%20JSON.stringify%28todo%29%3B%0A%20%20%20%20%20%20%20%20return%20todo_str%3B%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20todo_load%28pnt%2C%20todo%29%20%7B%0A%20%20%20%20if%20%28%21todo%29%20return%3B%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20todo.length%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20pos%20%3D%20document.createElement%28%27li%27%29%3B%0A%20%20%20%20%20%20%20%20pnt.appendChild%28pos%29%3B%0A%20%20%20%20%20%20%20%20fill_li%28todo%5Bi%5D.state%2C%20todo%5Bi%5D.desc%29%3B%0A%20%20%20%20%20%20%20%20span%28pos%29.focus%28%29%3B%0A%20%20%20%20%20%20%20%20if%20%28todo%5Bi%5D.children.length%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20ul%20%3D%20document.createElement%28%27ul%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20pos.appendChild%28ul%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20todo_load%28ul%2C%20todo%5Bi%5D.children%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28todo%5Bi%5D.collapsed%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ul.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20task_load%28%29%20%7B%0A%20%20%20%20var%20key%20%3D%20localStorage.getItem%28%27key%27%29%0A%20%20%20%20%24%28%27key%27%29.value%20%3D%20key%0A%20%20%20%20if%20%28key%29%20%7B%0A%20%20%20%20%20%20%20%20var%20xhr%20%3D%20new%20XMLHttpRequest%28%29%3B%0A%20%20%20%20%20%20%20%20xhr.onreadystatechange%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28xhr.readyState%20%3D%3D%20XMLHttpRequest.DONE%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28xhr.status%20%3D%3D%20200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20pos%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20pnt%20%3D%20%24%28%27todo_list%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20pnt.innerHTML%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20todo%20%3D%20JSON.parse%28xhr.responseText%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20todo_load%28pnt%2C%20todo%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20xhr.open%28%27get%27%2C%20%24%28%27server%27%29.value%20%2B%20%22/keys/%22%20%2B%20key%2C%20true%29%3B%20%0A%20%20%20%20%20%20%20%20xhr.send%28%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20pos%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20pnt%20%3D%20%24%28%27todo_list%27%29%3B%0A%20%20%20%20%20%20%20%20pnt.innerHTML%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20todo%20%3D%20JSON.parse%28localStorage.getItem%28%27todo%27%29%29%3B%0A%20%20%20%20%20%20%20%20todo_load%28pnt%2C%20todo%29%3B%20%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20task_delete%28%29%20%7B%0A%20%20%20%20if%20%28%21pos%29%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20if%20%28%21confirm%28%27Are%20you%20sure%20to%20delete%20this%20item%3F%27%29%29%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20var%20prv%20%3D%20pos.previousSibling%3B%0A%20%20%20%20pnt%20%3D%20pos.parentNode%3B%0A%20%20%20%20pnt.removeChild%28pos%29%3B%0A%20%20%20%20if%20%28%21prv%20%26%26%20pnt%29%20%7B%0A%20%20%20%20%20%20%20%20pos%20%3D%20pnt.parentNode%3B%0A%20%20%20%20%20%20%20%20pos.removeChild%28pnt%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%0A%20%20%20%20%20%20%20%20pos%20%3D%20prv%3B%0A%20%20%20%20if%20%28pos%29%0A%20%20%20%20%20%20%20%20pos.getElementsByTagName%28%27span%27%29%5B0%5D.focus%28%29%3B%0A%20%20%20%20if%20%28pnt%20%21%3D%20%24%28%27todo_list%27%29%29%0A%20%20%20%20%20%20%20%20pnt%20%3D%20pos.parentNode%3B%0A%20%20%20%20span%28pos%29.focus%28%29%3B%0A%20%20%20%20chg%20%3D%20true%3B%20%20%20%0A%7D%0A%0Afunction%20task_move_up%28%29%20%7B%0A%20%20%20%20var%20prv%20%3D%20pos.previousSibling%3B%0A%20%20%20%20pnt%20%3D%20pos.parentNode%3B%0A%20%20%20%20if%20%28prv%29%20%7B%0A%20%20%20%20%20%20%20%20pnt.insertBefore%28pos%2C%20prv%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20span%28pos%29.focus%28%29%3B%0A%20%20%20%20chg%20%3D%20true%3B%20%20%20%0A%7D%0A%0Afunction%20task_move_down%28%29%20%7B%0A%20%20%20%20var%20nxt%20%3D%20pos.nextSibling%3B%0A%20%20%20%20pnt%20%3D%20pos.parentNode%3B%0A%20%20%20%20if%20%28nxt%29%0A%20%20%20%20%20%20%20%20pnt.insertBefore%28nxt%2C%20pos%29%3B%0A%20%20%20%20span%28pos%29.focus%28%29%3B%0A%20%20%20%20chg%20%3D%20true%3B%20%20%20%0A%7D%0A%0Afunction%20task_collapse%28%29%20%7B%0A%20%20%20%20if%20%28pos%20%3D%3D%20null%29%20return%3B%0A%20%20%20%20var%20uls%20%3D%20pos.getElementsByTagName%28%27ul%27%29%3B%0A%20%20%20%20if%20%28uls%20%26%26%20uls%5B0%5D%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28uls%5B0%5D.style.display%20%21%3D%20%27none%27%29%0A%20%20%20%20%20%20%20%20%20%20%20%20uls%5B0%5D.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20%20%20%20%20uls%5B0%5D.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%7D%0A%20%20%20%20chg%20%3D%20true%3B%20%20%20%0A%7D%0A%0Afunction%20key_press%28ev%29%20%7B%0A%20%20%20%20if%20%28ev.ctrlKey%20%26%26%20ev.keyCode%20%3D%3D%2040%29%0A%20%20%20%20%20%20%20%20task_move_down%28%29%3B%0A%20%20%20%20if%20%28ev.ctrlKey%20%26%26%20ev.keyCode%20%3D%3D%2038%29%0A%20%20%20%20%20%20%20%20task_move_up%28%29%3B%0A%20%20%20%20if%20%28ev.ctrlKey%20%26%26%20ev.keyCode%20%3D%3D%200%29%0A%20%20%20%20%20%20%20%20task_collapse%28%29%3B%0A%20%20%20%20if%20%28ev.ctrlKey%20%26%26%20ev.keyCode%20%3D%3D%2013%29%0A%20%20%20%20%20%20%20%20task_insert%28%29%3B%0A%20%20%20%20if%20%28ev.ctrlKey%20%26%26%20ev.keyCode%20%3D%3D%2046%29%0A%20%20%20%20%20%20%20%20task_delete%28%29%3B%0A%20%20%20%20if%20%28ev.ctrlKey%20%26%26%20ev.keyCode%20%3D%3D%2045%29%0A%20%20%20%20%20%20%20%20task_children%28%29%3B%0A%20%20%20%20if%20%28%21ev.ctrlKey%20%26%26%20ev.keyCode%20%3D%3D%2040%29%20%7B%0A%20%20%20%20%20%20%20%20var%20prv%20%3D%20pos.nextSibling%3B%0A%20%20%20%20%20%20%20%20if%20%28prv%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20pos%20%3D%20prv%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20span%28pos%29.focus%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28%21ev.ctrlKey%20%26%26%20ev.keyCode%20%3D%3D%2038%29%20%7B%0A%20%20%20%20%20%20%20%20var%20prv%20%3D%20pos.previousSibling%3B%0A%20%20%20%20%20%20%20%20if%20%28prv%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20pos%20%3D%20prv%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20span%28pos%29.focus%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28ev.ctrlKey%20%26%26%20ev.keyCode%20%3D%3D%2039%29%20%7B%0A%20%20%20%20%20%20%20%20var%20uls%20%3D%20pos.getElementsByTagName%28%27ul%27%29%3B%0A%20%20%20%20%20%20%20%20if%20%28uls%20%26%26%20uls%5B0%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20lis%20%3D%20uls%5B0%5D.getElementsByTagName%28%27li%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28lis%20%26%26%20lis%5B0%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20prv%20%3D%20lis%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20pos%20%3D%20prv%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20span%28pos%29.focus%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28ev.ctrlKey%20%26%26%20ev.keyCode%20%3D%3D%2037%29%20%7B%0A%20%20%20%20%20%20%20%20var%20ul%20%3D%20pos.parentNode%3B%0A%20%20%20%20%20%20%20%20if%20%28ul%20%3D%3D%20%24%28%27todo_list%27%29%29%20return%3B%0A%20%20%20%20%20%20%20%20var%20prv%20%3D%20ul.parentNode%3B%0A%20%20%20%20%20%20%20%20pos%20%3D%20prv%3B%0A%20%20%20%20%20%20%20%20span%28pos%29.focus%28%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28ev.ctrlKey%20%26%26%20ev.keyCode%20%3D%3D%20113%29%0A%20%20%20%20%20%20%20%20task_copy%28%29%3B%0A%7D%0A%0Afunction%20task_setup%28%29%20%7B%0A%20%20%20%20if%20%28%24%28%27setup%27%29.style.display%20%3D%3D%20%27none%27%29%20%7B%0A%20%20%20%20%20%20%20%20%24%28%27main%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%24%28%27setup%27%29.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%24%28%27json%27%29.innerHTML%20%3D%20task_copy%28%29%3B%0A%20%20%20%20%20%20%20%20%24%28%27btn_json%27%29.onclick%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21confirm%28%27Are%20you%20sure%20to%20replace%20list%3F%27%29%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20todo_str%20%3D%20%24%28%27json%27%29.value%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20pos%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20pnt%20%3D%20%24%28%27todo_list%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20pnt.innerHTML%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20todo_load%28pnt%2C%20JSON.parse%28todo_str%29%29%3B%20%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%24%28%27main%27%29.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%24%28%27setup%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%7D%0A%7D%0A%0Awindow.onload%20%3D%20function%28%29%20%7B%0A%20%20%20%20%24%28%27btn_new%27%29.onclick%20%3D%20task_insert%3B%20%0A%20%20%20%20%24%28%27btn_chd%27%29.onclick%20%3D%20task_children%3B%20%0A%20%20%20%20%24%28%27btn_done%27%29.onclick%20%3D%20task_done%3B%20%0A%20%20%20%20%24%28%27btn_del%27%29.onclick%20%3D%20task_delete%3B%20%0A%20%20%20%20%24%28%27btn_up%27%29.onclick%20%3D%20task_move_up%3B%20%0A%20%20%20%20%24%28%27btn_down%27%29.onclick%20%3D%20task_move_down%3B%20%0A%20%20%20%20%24%28%27btn_coll%27%29.onclick%20%3D%20task_collapse%3B%0A%20%20%20%20%24%28%27btn_setup%27%29.onclick%20%3D%20task_setup%3B%0A%20%20%20%20%24%28%27setup%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%24%28%27server%27%29.value%20%3D%20%27http%3A//%27%20%2B%20window.location.host%3B%0A%20%20%20%20%24%28%27key%27%29.value%20%3D%20localStorage.getItem%28%27key%27%2C%20key%29%0A%20%20%20%20%24%28%27btn_key_get%27%29.onclick%20%3D%20key_get%3B%0A%20%20%20%20%24%28%27btn_key_set%27%29.onclick%20%3D%20key_set%3B%0A%20%20%20%20window.onkeypress%20%3D%20key_press%3B%0A%20%20%20%20task_load%28%29%3B%0A%20%20%20%20setInterval%28task_save%2C%2010000%29%3B%0A%20%20%20%20/%2A%0A%20%20%20%20window.onpageshow%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20task_load%28%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20window.onpagehide%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20task_save%28%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20%2A/%0A%7D%0A"></script><!--URL:app.js-->
</head>
<body>
<div class="container">
<div id="control">
<img id="btn_new" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiID8+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiI+CiAgICA8bGluZSB4MT0iMTYiIHkxPSI4IiB4Mj0iMTYiIHkyPSIyNCIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIyIiAvPgogICAgPGxpbmUgeDE9IjgiIHkxPSIxNiIgeDI9IjI0IiB5Mj0iMTYiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMiIgLz4KPC9zdmc+Cg=="/><!--URL:assets/add.svg-->
<img id="btn_chd" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiID8+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiI+CiAgICA8bGluZSB4MT0iNCIgeTE9IjEyIiB4Mj0iMzAiIHkyPSIxMiIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8bGluZSB4MT0iMTIiIHkxPSIyMiIgeDI9IjIwIiB5Mj0iMjIiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMiIvPgogICAgPGxpbmUgeDE9IjEyIiB5MT0iMTIiIHgyPSIxMiIgeTI9IjIyIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIiLz4KICAgIDxsaW5lIHgxPSIyMiIgeTE9IjIyIiB4Mj0iMzAiIHkyPSIyMiIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8bGluZSB4MT0iMjYiIHkxPSIxOCIgeDI9IjI2IiB5Mj0iMjYiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4K"/><!--URL:assets/subtask.svg-->
<img id="btn_done" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiID8+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiI+CiAgICA8cmVjdCB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHg9IjE0IiB5PSIxMiIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJ3aGl0ZSIvPgogICAgPGxpbmUgeDE9IjQiIHkxPSIyMiIgeDI9IjEyIiB5Mj0iMjgiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iNCIgLz4KICAgIDxsaW5lIHgxPSIxMiIgeTE9IjI4IiB4Mj0iMjgiIHkyPSI0IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIiIC8+Cjwvc3ZnPgo="/><!--URL:assets/done.svg-->
<img id="btn_del" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiID8+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiI+CiAgICA8cmVjdCB3aWR0aD0iOCIgaGVpZ2h0PSI0IiB4PSIxMiIgeT0iNCIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJ3aGl0ZSIvPgogICAgPHJlY3Qgd2lkdGg9IjIwIiBoZWlnaHQ9IjYiIHg9IjYiIHk9IjgiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0id2hpdGUiLz4KICAgIDxyZWN0IHdpZHRoPSIxNiIgaGVpZ2h0PSIxNCIgeD0iOCIgeT0iMTQiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0id2hpdGUiLz4KICAgIDxsaW5lIHgxPSIxMyIgeTE9IjE3IiB4Mj0iMTMiIHkyPSIyNSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8bGluZSB4MT0iMTkiIHkxPSIxNyIgeDI9IjE5IiB5Mj0iMjUiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4K"/><!--URL:assets/del.svg-->
<img id="btn_up" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiID8+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiI+CiAgICA8bGluZSB4MT0iNCIgeTE9IjE2IiB4Mj0iOCIgeTI9IjQiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMiIvPgogICAgPGxpbmUgeDE9IjgiIHkxPSI0IiB4Mj0iMTIiIHkyPSIxNiIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8bGluZSB4MT0iOCIgeTE9IjQiIHgyPSI4IiB5Mj0iMjgiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMiIvPgogICAgPGxpbmUgeDE9IjE2IiB5MT0iOCIgeDI9IjI4IiB5Mj0iOCIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8bGluZSB4MT0iMTYiIHkxPSIxNiIgeDI9IjI4IiB5Mj0iMTYiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMiIvPgogICAgPGxpbmUgeDE9IjE2IiB5MT0iMjQiIHgyPSIyOCIgeTI9IjI0IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIiLz4KPC9zdmc+Cg=="/><!--URL:assets/up.svg-->
<img id="btn_down" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiID8+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiI+CiAgICA8bGluZSB4MT0iNCIgeTE9IjE2IiB4Mj0iOCIgeTI9IjI4IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIiLz4KICAgIDxsaW5lIHgxPSI4IiB5MT0iMjgiIHgyPSIxMiIgeTI9IjE2IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIiLz4KICAgIDxsaW5lIHgxPSI4IiB5MT0iNCIgeDI9IjgiIHkyPSIyOCIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8bGluZSB4MT0iMTYiIHkxPSI4IiB4Mj0iMjgiIHkyPSI4IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIiLz4KICAgIDxsaW5lIHgxPSIxNiIgeTE9IjE2IiB4Mj0iMjgiIHkyPSIxNiIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8bGluZSB4MT0iMTYiIHkxPSIyNCIgeDI9IjI4IiB5Mj0iMjQiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4K"/><!--URL:assets/down.svg-->
<img id="btn_coll" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiID8+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiI+CiAgICA8bGluZSB4MT0iOCIgeTE9IjE2IiB4Mj0iMjQiIHkyPSI4IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIiLz4KICAgIDxsaW5lIHgxPSI4IiB5MT0iMTYiIHgyPSIyNCIgeTI9IjI0IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIiLz4KICAgIDxjaXJjbGUgY3g9IjgiIGN5PSIxNiIgcj0iNCIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJ3aGl0ZSIvPgogICAgPGNpcmNsZSBjeD0iMjQiIGN5PSI4IiByPSI0IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9IndoaXRlIi8+CiAgICA8Y2lyY2xlIGN4PSIyNCIgY3k9IjI0IiByPSI0IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo="/><!--URL:assets/collapse.svg-->
<img id="btn_setup" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiID8+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiI+CiAgICA8cmVjdCB3aWR0aD0iOCIgaGVpZ2h0PSIyIiB4PSIxMiIgeT0iNCIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJ3aGl0ZSIgLz4KICAgIDxyZWN0IHdpZHRoPSI4IiBoZWlnaHQ9IjIiIHg9IjEyIiB5PSIyNiIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJ3aGl0ZSIgLz4KICAgIDxyZWN0IHdpZHRoPSIyIiBoZWlnaHQ9IjgiIHg9IjQiIHk9IjEyIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9IndoaXRlIiAvPgogICAgPHJlY3Qgd2lkdGg9IjIiIGhlaWdodD0iOCIgeD0iMjYiIHk9IjEyIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9IndoaXRlIiAvPgogICAgPGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iOCIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJ3aGl0ZSIvPgogICAgPGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iNCIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K"/><!--URL:assets/setup.svg-->
</div>
<div id="main">
<ul id="todo_list"></ul>
</div>
<div id="setup">
<div>
<h3>Server config:</h3>
<input id="server" placeholder="Server" type="text"/><br/>
<input id="key" placeholder="Key" type="text"/><br/>
<button id="btn_key_set">Set</button>
<button id="btn_key_get">Get a new key</button>
</div>
<div>
<h3>Local copy</h3>
<textarea id="json"></textarea><br/>
<button id="btn_json">Replace</button>
</div>
</div>
</div>
</body>
</html><!--Generated by HTMLArk 2017-12-28 17:28:10.783169. Original URL static/index.html-->
